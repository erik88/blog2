---
metaTitle: I write prettier code than the formatter...
metaDescription: ...but my colleagues do not
date: "2023-09-27"
#ogImage: /img/formatter-vs-colleague.png
---

<div class="tldr">
    <h2>tl;dr</h2>

    <p>Autoformatting is great because it:</p>

    <ol>
        <li>Completely removes meaningless comments about formatting from Pull/Merge-requests.</li>
        <li>Allows you to free up mental resources which would otherwise be used on formatting.</li>
        <li>Allows you to write code faster.</li>
    </ol>
</div>

<!--------------------------->

<h2 id="why-readable-code-matters">Why readable code matters</h2>

<p>
    Most software projects are long lived - most <strong>outlive their initial scope</strong>, and sometimes evolve into something entirely different.
    This is not due to errors in planning, but rather a consequence of business needs changing (which is a good thing. Imagine a company that never changes...)
</p>

<p>
    The consequence of this is that code has to be reasonably <strong>easy to change and adapt</strong> to new purposes.
    It is therefore of paramount importance that code is easy to read. There is a famous quote by Robert C. Martin saying (roughly) that <a href="https://www.goodreads.com/quotes/835238-indeed-the-ratio-of-time-spent-reading-versus-writing-is">code is read 10 more than it is written</a>.
</p>

<!---------------------------------------------->

<h2 id="autoformatters-work-against-readability">Autoformatters work against readability</h2>

<p>
    Almost every language has an autoformatter this day: <em>rustfmt</em>, <em>prettier</em>, <em>csharpier</em>, <em>gofmt</em>, etc.
    These programs partially <strong>take away control</strong> over code readability. Let us look at a common example:
</p>

<code><pre class="prettyprint lang-csharp">
// Manually formatted

let myList = [
    {"name": "Joerge", "age": 43, "description": "I like long walks"},
    {"name": "Catniss", "age": 23, "description": "I like to protect my people, and also sometimes to use the bow. I have developped excellent survival skills, and am practising using the knife for offensive purposes."},
    {"name": "Gretchen", "age": 54, "description": "I have a hundred cats"}
];
</pre></code>

<code><pre class="prettyprint lang-csharp">
// With autoformatter

let myList = [
    {"name": "Joerge", "age": 43, "description": "I like long walks"},
    {
        "name": "Catniss",
        "age": 23,
        "description": "I like to protect my people, and also sometimes to use the bow. I have developped excellent survival skills, and am practising using the knife for offensive purposes."
    },
    {"name": "Gretchen", "age": 54, "description": "I have a hundred cats"}
];
</pre></code>
<p>Notice how the manually formatted example immediately makes it clear that we are dealing with a list of three items.</p>

<p>It seems like autoformatters make the code <em>less</em> readable!</p>

<!---------------------------------------------->

<h2 id="colleagues-are-worse-than-autoformatters">Colleagues are worse than autoformatters</h2>

<p>
    Few of us are writing code in isolation from the rest of the world. Enforcing consistent formatting across multiple persons is a nightmare: you will likely spend all your time
    writing style guides (that nobody reads), and doing reviews with meaningless formatting comments.
</p>

<figure>
    <img src="/img/formatter-useless-comment.png" alt="A useless comment regarding whether a bracket should be on the next line or not">
    <figcaption>Useless comment</figcaption>
</figure>

<p>
    Let us be frank: <strong>Your colleagues suck at formatting code</strong> (and they probably think the same about you :)
</p>

<p>
    Enter autoformatters. Nobody will be 100% pleased, but everybody will be consistent. I find that the decrease in readability from an autoformatter is a far lesser evil than the unstructured sphagetti caused by a colleague.
</p>

<figure>
    <img src="/img/formatter-vs-colleague.png" alt="A comparison showing how autoformatted code is less bad than code formatted by colleagues">
</figure>

<!---------------------------------------------->

<h2 id="pull-requests"></h2>

<p>
    An autoformatter removes an entire class of comments from Merge/Pull-requests. This is especially important if you have <strong>junior developers</strong> on the team.
    There is a tendency for junior developers to only comment on "style" or "structure" when doing reviews. This is comfortable and easy to learn - but would it not be better to train them to
    try to understand customer requirements and problems in the code flow?
</p>

<!---------------------------------------------->

<h2 id="freeing-up-mental-space">Freeing up mental space</h2>

<p>After adopting formatters, something magical happens. You stop thinking about formatting when writing code. This frees up mental space to think about other things - like that infinite loop that you are just about to create.</p>

<h2 id="writing-speed">Writing speed</h2>

<p>Arguably, the speed with with one is writing code is less important than readability. However, improved writing speed is a nice side effect of formatters.</p>

<h2 id="style-rules-in-linters">Style rules in linters</h2>

<p>But why stop at autoformatters? For every review comment that could be automated, there is a linting rule waiting to be activated. Perhaps you would want your colleagues to...</p>

<ul>
    <li>...use sensible names for booleans</li>
    <li>...name file after the exported class</li>
    <li>...Never mix <code>async</code> and <code>.then()</code></li>
</ul>

<p>Like with autoformatters, you will sacrifice some control. But the gains are worth it ten times over.</p>